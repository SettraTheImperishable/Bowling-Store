<div class="category">
  <% if name_is_link %>
    <h2>
      <%= link_to category.name, category %>
    </h2>
  <% else %>
    <h2>
      <%= category.name %>
    </h2>
  <% end %>

  <% if shows_products %>
    <%= render partial: 'products/product',
           collection: category.products,
           locals: { name_is_link: true } %>
  <% else %>
    <p>Description: <%= category.description %></p>
  <% end %>
</div>